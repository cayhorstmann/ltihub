@import scala.collection.mutable.ListBuffer
@(prefix: String, assignmentId: Long, userId: String, 
	toolConsumerId: String, contextId: String,  
	duration: Int, isInstructor: Boolean,
    lisOutcomeServiceURL: String, lisResultSourcedId: String,
    oauthConsumerKey: String)

<head>
    <link rel="stylesheet" href='@routes.Assets.at("stylesheets/main.css")'/>
    <script type="text/javascript">
	const assignment = { 
	  assignmentId: '@assignmentId',
	  userId: '@userId',
	  toolConsumerId: '@toolConsumerId',
	  contextId: '@contextId',
	  duration: @duration,
	  isInstructor: @isInstructor,
	  lisOutcomeServiceURL: '@lisOutcomeServiceURL',
	  lisResultSourcedId: '@lisResultSourcedId',
	  oauthConsumerKey: '@oauthConsumerKey',
	  submissionURL: '@controllers.routes.DataProvider.getProblems(assignmentId, userId, toolConsumerId,
                		contextId, if (isInstructor) "Instructor" else "Student" )',
      startTimeURL: '@controllers.routes.DataProvider.getStartTimeInMilliseconds(assignmentId, userId, toolConsumerId, contextId)'                			  
	}    
    </script>
	<script type="text/javascript" src='@routes.Assets.at("javascripts/ltihub.js")'/>
        
</head>

<body>
    @if(isInstructor) {
        <p class="message">You are viewing this assignment as instructor.</p>
        <p>
            <a href="@routes.HomeController.getSubmissionViewer(assignmentId)">View Submissions</a>
        </p>
    }

    @if(!isInstructor) {
        <div id="record-score">
        <p>
            If you are done with all questions, click on "Record my score" to save your score in the gradebook.
        </p>

        <button onclick="submitGrades()">Record my score</button> <span style='display:none' class='message' id='response'></span>
        </div>
    }
<hr/>
<p>User ID: <code>@userId</code></p>
<p>Assignment ID: <code>@assignmentId</code></p>
</body>
