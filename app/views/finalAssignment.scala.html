@(submissions: List[models.Submission], problems: List[models.Problem])
@import helper._

<script>
function onLoadHandler() {
            var iframes = document.getElementsByClassName('exercise-iframe')
			for (i = 0; i < iframes.length; i++) {
				alert(iframes.length);
				iframes[i].src = iframes[i].src + "&callback="+ encodeURIComponent(window.location.protocol + "//" + window.location.host + "/submissions/"+ iframes[i].id);
				alert(iframes[i].src);

			}    
        }
	window.onload = onLoadHandler;
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <style>
    .warning {
        background-color: #FFF8C4;
        padding: 1em;
    }
    </style>
       @if(flash.containsKey("warning")) {
        <p class="warning">
            It looks like this LTI tool wasn't launched as an assignment, or you are trying to take it as a teacher rather
			than as a student. Make sure to set up an external tool assignment as outlined for this tool.
			<strong>Grade passback will not work outside the student view.</strong>
        </p>
    }

   
    @for(submission <- submissions) {
	    
        <div style='width : 100% ; height : 10em ;' 
        id= @submission.submissionId  ><p>You have already solved this problem and your score is <b>@submission.score</b></p></div>
	}
   
    @for(problem <- problems) {
	    
        <iframe style='width : 100% ; height : 50em ;' class='exercise-iframe'
        id= @problem.problemId src=@problem.url ></iframe>
	}
<form method="post" action="/send-score"><button>Send Score To Canvas!!</button></form>
